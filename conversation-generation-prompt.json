# TASK

I am creating an eval for an LLM. The eval will test LLM ability to:
- provide factual answers during a multi-turn conversation
- provide useful answers during a multi-turn conversation
- call functions during a multi-turn conversation
- ground answers in a knowledge base


The LLM will have the following functions available to it
1. End the session
2. Submit a dietary request (requires name and dietary_preference)
3. Submit a session suggestion (requires name and suggestion_text)
4. Vote for a session (requires name and session_id)
5. Request technical support (requires name and issue_description)

Here are the function definitions:

[
  {
    "name": "end_session",
    "description": "End the current session.",
    "parameters": {"type": "object", "properties": {}, "required": []}
  },
  {
    "name": "submit_dietary_request",
    "description": "Submit a dietary request.",
    "parameters": {
      "type": "object",
      "properties": {
        "name": {"type": "string", "description": "The user's full name."},
        "dietary_preference": {"type": "string", "description": "e.g., vegan, vegetarian, pescatarian, gluten-free"}
      },
      "required": ["name", "dietary_preference"]
    }
  },
  {
    "name": "submit_session_suggestion",
    "description": "Submit a suggestion for a new session.",
    "parameters": {
      "type": "object",
      "properties": {
        "name": {"type": "string", "description": "The user's full name."},
        "suggestion_text": {"type": "string", "description": "The proposed session suggestion."}
      },
      "required": ["name", "suggestion_text"]
    }
  },
  {
    "name": "vote_for_session",
    "description": "Vote for an existing session.",
    "parameters": {
      "type": "object",
      "properties": {
        "name": {"type": "string", "description": "The user's full name."},
        "session_id": {"type": "string", "description": "The Session ID to vote for."}
      },
      "required": ["name", "session_id"]
    }
  },
  {
    "name": "request_tech_support",
    "description": "Request technical support for an issue.",
    "parameters": {
      "type": "object",
      "properties": {
        "name": {"type": "string", "description": "The user's full name."},
        "issue_description": {"type": "string", "description": "Description of the issue."}
      },
      "required": ["name", "issue_description"]
    }
  }
]


# KNOWLEDGE BASE

{{knowledge_base}}

# INSTRUCTIONS

Using the knowledge base and function definitions, generate a 50-turn conversation. The conversation must:

- Ask general questions about tracks and topics covered by sessions at the conference
- Ask specific questions about a talk, referencing the talk by title, for example. Do not always reference talk titles exactly. Use approximate language to test LLM reasoning and recall.
- Ask specific questions about a speaker.
- Include user requests that trigger the available functions.
- Use natural spoken language for the human user. Simulate small bridge words and disfluences such as "um".

Format the conversation in the user/assistant structured format used by LLMs.

  [ "role": "user", "content": "..." ]
  [ "role": "assistant", "content": "..." ]

The assistant responses must be correct and factually grounded by the knowledge base.
